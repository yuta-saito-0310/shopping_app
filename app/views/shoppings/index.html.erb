<div data-controller="modal" class="flex flex-col px-2 pt-4 pb-4 mb-4">
  <table class="table-fixed w-full text-xl">
    <thead class="text-cyan-700 border-b-2 border-cyan-700">
      <tr>
        <th class="p-2"><%= t('.shopping_name') %></th>
        <th class="p-2 text-center"><%= t('.date') %></th>
        <th class="p-2"><%= t('.contents') %></th>
      </tr>
    </thead>
    <% @shoppings.each do |shopping| %>
      <tbody class="border-b-2 border-dashed border-cyan-300">
        <tr>
          <td class="p-2">
            <%= shopping.name %>
          </td>
          <td class="p-2 text-center">
            <%= shopping.created_at.strftime('%y/%m/%d') %>
          </td>
          <td class="p-2 text-center">
            <div>
              <button type="button" data-action="click->modal#showModal" data-shopping-id="<%= shopping.id %>"
                      data-modal-target="detailButton"
                      class="px-2 py-1 border border-cyan-700 font-semibold rounded-full hover:bg-cyan-500">
                <%= t('.detail') %>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    <% end %>
  </table>
  <div id="overlay" class="hidden fixed top-0 left-0 w-full h-full bg-black opacity-50"></div>
  <button id="prev-button" class="hidden absolute top-1/2 left-0 transform -translate-y-1/2 text-2xl text-white bg-red-700 rounded-full p-2"
    data-action="click->modal#prevPage">
    <<
  </button>
  <button id="next-button" class="hidden absolute top-1/2 right-0 transform -translate-y-1/2 text-2xl text-red-700"
    data-action="click->modal#nextPage">
    >>
  </button>
  <div id="modal"
    class="w-3/4 bg-white hidden flex flex-col px-2 pt-1 pb-4 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
    <button id="close-button" class="ml-auto mr-2 font-bold text-2xl"
      data-action="click->modal#closeModal">
      Ã—
    </button>
    <p id="shopping-name" class="font-bold text-2xl flex justify-center"></p>
    <p class="font-bold text-2xl flex justify-center">
      <%= t('.sum') %><span id="sum-price"></span><%= t('.currency') %>
    </p>
    <div id="item-header">
      <ul class="text-center flex border-b-2 border-blue-200 mb-4">
        <li class="mr-1 flex-auto  text-xl py-2 px-4 font-bold  w-1/2">
           <%= t('.item_name') %>
         </li>
         <li class="mr-1 flex-auto text-xl py-2 px-4 font-bold w-1/4">
           <%= t('.item_price') %>
         </li>
         <li class="mr-1 flex-auto text-xl py-2 px-4 font-bold w-1/4">
           <%= t('.item_amount') %>
         </li>
      </ul>
    </div>
    <div id="details">
      <div id="details-content" class="break-words"></div>
    </div>
  </div>
</div>
